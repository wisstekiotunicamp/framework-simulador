{% extends "base.html" %}
{% block title %}Dashboard de Rede | TpM{% endblock %}

{% block content %}
<section class="panel monitoring-panel">
    <h2>Dashboard de Monitoramento de Rede (RSSI)</h2>
    
    <div class="form-group" style="margin-bottom: 20px;">
        <label for="sensor-selector">Selecione o Nó Sensor para visualizar:</label>
        <select id="sensor-selector">
            <option value="">-- Selecione um sensor --</option>
            {% for id, descricao in sensores %}
            <option value="{{ id }}">{{ descricao }} (ID: {{ id }})</option>
            {% endfor %}
        </select>
    </div>

    <div class="latest-value-display">
        <p>Últimos Valores de RSSI (dBm)</p>
        <span id="latest-values-span">--</span>
    </div>

    <div class="chart-container">
        <canvas id="sensorDataChart"></canvas>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
    const API_ENDPOINT = '/api/dados_rede/';
</script>
<script src="{{ url_for('static', filename='js/dashboard_logic.js') }}"></script>
{% endblock %}
